<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="../../styles/styles.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="page">
    <div class="container-fluid row p-4 m-0">
        <sidebar class="sidebar rounded-3 col col-sm-3 col-md-4 col-lg-3 px-5 pt-5 align-items-center">
            <div class="admin rounded-4 d-flex justify-content-center text-center p-1">
                <div class="user__icon me-3">
                    <i class="bi bi-person-circle"></i>
                </div>
                <div class="user__body align-self-center">
                    <div class="user__name">Adam Smith</div>
                    <div class="user__role">Admin</div>
                </div>
            </div>
            <nav class="navbar navbar-expand-md navbar-dark">
                <button class="navbar-toggler " type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="row collapse navbar-collapse" id="navbarNav">
                    <div class="dashboard__body mt-5 d-flex justify-content-center text-center p-4">
                        <span class="house_img">
                            <i class="bi bi-house h4"></i>
                        </span>
                        <div class="dashboard__title ms-4 align-self-center">DASHBOARD</div>
                    </div>
                    <div class="newproj__content d-flex justify-content-center my-4">
                        <a href="./newProjectScreen.html">
                            <button type="button" class="btn btn_newproj text-white px-4 p-0">
                                <i class="bi bi-plus-square-fill mt-2 mx-3 h4"></i>
                                Nouveau Projet
                            </button>
                        </a>
                    </div>
                    <ul class="nav nav__ul row mt-4 p-0">
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page" href="./adminEnv.html">Projets</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page" href="./adminTasks.html">Mes tâches</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page"
                                    href="./statistiqueProjet.html">Statistiques projets</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link active ms-4 px-0" aria-current="page"
                                    href="./listeCollaborateursScreen.html">Collaborateurs</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page" href="./StatCollab.html">Statistiques
                                    collaborateurs</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page"
                                    href="./traçabilitéScreen.html">Trançabilité</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class="d-flex align-items-center">
                                <a class="nav-link ms-4 px-0" aria-current="page" href="./paramScreen.html">Paramètres</a>
                                <span class="img_arrow">
                                    <i class="bi bi-chevron-right h4"></i>
                                </span>
                            </div>
                        </li>
                    </ul>
                    <div class="d-flex justify-content-center">
                        <a type="button" class="btn logout__btn text-white pe-4" href="../logInScreens/logIn.html">
                            <svg preserveAspectRatio="none" viewBox="0 0 23 23" fill="none"
                                xmlns="http://www.w3.org/2000/svg" class="logout__img mx-3">
                                <path
                                    d="M5.50812 4.59244C3.56384 5.74479 2.0867 7.42565 1.29538 9.38619C0.504069 11.3467 0.440639 13.4827 1.11448 15.478C1.78833 17.4732 3.16363 19.2216 5.03679 20.4644C6.90994 21.7072 9.18139 22.3782 11.5148 22.3782C13.8483 22.3782 16.1197 21.7072 17.9929 20.4644C19.8661 19.2216 21.2414 17.4732 21.9152 15.478C22.5891 13.4827 22.5256 11.3467 21.7343 9.38619C20.943 7.42565 19.4659 5.74479 17.5216 4.59244M11.5154 0.819458V9.44342"
                                    stroke="#F8F8F8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                </path>
                            </svg>
                            Déconnexion
                        </a>
                    </div>
                </div>
            </nav>
        </sidebar>
        <main class="container main col-9 col-sm-9 col-md-8 col-lg-9">
            <div class="notif__bar d-flex justify-content-end rounded-2">
                <div class="dropdown">
                    <button class="btn dropdown-toggle position-relative bell" type="button" id="notificationBell"
                        data-bs-toggle="dropdown" aria-expanded="false">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                            class="bi bi-bell" viewBox="0 0 16 16">
                            <path
                                d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.104-14a5.02 5.02 0 0 1 4.002 2.5c.262.415.495.885.66 1.398.17.527.234 1.08.234 1.602v2.011l.77 2.707a1 1 0 0 1-.97 1.282H3.201a1 1 0 0 1-.97-1.282l.77-2.707V7.5c0-.522.064-1.075.234-1.602.165-.513.398-.983.66-1.398A5.02 5.02 0 0 1 7.896 2zM8 1a6 6 0 0 0-6 6v2.086l-.97 3.423A2 2 0 0 0 3.2 15h9.6a2 2 0 0 0 1.937-2.491L13.77 9.086V7a6 6 0 0 0-5.77-6z" />
                        </svg>

                        <span id="notificationCount"
                            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                            3
                            <span class="visually-hidden">Messages non lus</span>
                        </span>
                    </button>

                    <ul class="dropdown-menu dropdown-menu-end">
                        <li>
                            <h6 class="dropdown-header">Notifications</h6>
                        </li>
                        <li><a class="dropdown-item" href="#">Nouvelle notification</a></li>
                        <li><a class="dropdown-item" href="#">Nouvelle notification</a></li>
                        <li><a class="dropdown-item" href="#">Nouvelle notification</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item text-center" href="#">Voir toutes les notifications</a></li>
                    </ul>
                </div>
            </div>
            <div class="row search__body mt-5 pb-5 mx-0 align-items-center">
                <h5 class="col-2 col-md-7 title__text p-0">Détails collaborateur</h5>
                <div class="col search__items d-flex justify-content-center p-0">
                    <div class="input-group search-bar flex-fill">
                        <span class="input-group-text">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control" placeholder="Rechercher...">
                    </div>
                    <button class="btn btn-custom">Rechercher</button>
                </div>
            </div>
            <div class="container-fluid params-collab mt-5 h-100">
                <div class="row">
                    <!-- Card des informations du collaborateur -->
                    <div class="col-12 col-md-4 mb-3">
                        <div class="card card-collab w-100 mx-auto h-100">
                            <div class="card-body text-center collabInfo ">
                                <i class="fa-regular fa-user fa-2xl"></i>
                                <br><br>
                                <p class="card-text"><span class="bold">Nom</span>: John</p>
                                <p class="card-text"><span class="bold">Prénom</span>: Doe</p>
                                <p class="card-text"><span class="bold">Email</span> : exemple@email.com</p>
                                <p class="card-text"><span class="bold">Rôle</span>: Collaborateur</p>
                                <p class="card-text"><span class="bold">Poste</span>: Développeur</p>
                                <button class="btn btn-danger position-absolute bottom-0 mb-5">Supprimer le collaborateur</button>
                            </div>
                        </div>
                    </div>
            
                    <!-- Div englobante pour les cartes graphique et tableau -->
                    <div class="col-12 col-md-8 mb-3">
                        <div class="d-flex flex-column h-100">
                            <!-- Card graphique en haut à droite -->
                            <div class="card card-collab mb-3 flex-grow-1">
                                <div class="card-body collab-diagram">
                                    <h2 class="text-center">Nombre de projets</h2>
                                    <!-- Conteneur du diagramme circulaire -->
                                    <canvas id="pieChart"></canvas> 
                                </div>
                            </div>
                            
                            <!-- Card tableau en bas à droite -->
                            <div class="card bottomTab rounded-3 table-responsive">
                                <table class="responsive midtable border-light text-light w-100">
                                    <thead>
                                        <tr class="border border-light row-custom">
                                            <th class="px-4 border-light border-right border">Nombre de tâches : </th>
                                            <th class="px-4 border-light border-right border">Tâches en cours : </th>
                                            <th class="px-4">Tâches en attente : </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-light border">
                                            <th class="px-4 border-light border-right border">20</th>
                                            <th class="px-4 border-light border-right border">15</th>
                                            <th class="px-4">5</th>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="justify-content-start mt-3">
                                    <button type="button" href="../adminScreens/adminTasks.html" class="view-collab-tasks text-light rounded-5 responsive">
                                        Voir les tâches <i class="bi bi-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>


    <!-- Script pour créer le diagramme circulaire -->
    <script>
        const ctx = document.getElementById('pieChart').getContext('2d');

        const pieChart = new Chart(ctx, {
            type: 'pie',  // Type de diagramme circulaire
            data: {
                labels: ['Projets où le collaborateur intervient', 'Tous les projet'],  // Les sections du diagramme
                datasets: [{
                    label: 'Répartition des Projets',
                    data: [3, 9],  // Valeurs des différentes sections
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',  // Couleur pour chaque section
                        'rgba(75, 192, 192, 0.7)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',  // Couleur de la bordure
                        'rgba(75, 192, 192, 1)'
                    ],
                    borderWidth: 1  // Largeur des bordures
                }]
            },
            options: {
                responsive: true,  // Rend le diagramme responsive
                plugins: {
                    title: {
                        display: true,
                        text: 'Répartition des Projets'  // Titre du diagramme
                    }
                }
            }
        });
    </script>


    <!-- Bootstrap JS and dependencies (jQuery and Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>